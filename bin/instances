#!/usr/bin/env ruby
#
# List out the public ip's
#

$: << File.join(File.dirname(__FILE__), '..', 'lib') # include the lib dir

require "smartcloud"
require "pp"

cloud = SmartCloud.new(ENV['IBM_USERNAME'], ENV['IBM_PASSWORD'])

instances = cloud.instances
instances.each do |i|
  # pp i
  puts "%s\t%s\t%s\%s" % [i.name, i['id'], i['primaryIP']['ip'], i.human_readable_status]
end